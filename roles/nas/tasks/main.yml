---
# This playbook will mount nas

- name: Create nas directory
  file: >
    path={{ nas_path }}
    state=directory
  become: yes

- name: Set nas mounting point
  mount: >
    name={{ nas_path }}
    src={{ nas_src }}
    fstype={{ nas_type }}
    opts={{ nas_options }}
    state=mounted
  become: yes

- name: Create backup nas script directory
  file: >
    path={{ nas_backup_script_path }}
    state=directory

- name: Copy nas backup script
  copy: >
    src={{ nas_backup_script }}
    dest={{ nas_backup_script_path }}
    mode=755
